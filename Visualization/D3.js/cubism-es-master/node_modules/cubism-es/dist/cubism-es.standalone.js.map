{"version":3,"file":"cubism-es.standalone.js","sources":["../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-scale/src/array.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-color/src/math.js","../node_modules/d3-color/src/lab.js","../node_modules/d3-color/src/cubehelix.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/nice.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-time-format/src/isoFormat.js","../node_modules/d3-time-format/src/isoParse.js","../node_modules/d3-scale/src/time.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../src/context/apiStart.js","../src/context/apiStop.js","../src/context/apiOn.js","../src/context/apiFocus.js","../src/context/update.js","../src/context/apiClientDelay.js","../src/context/apiServerDelay.js","../src/context/apiSize.js","../src/context/apiStep.js","../src/metric/apiAlias.js","../src/metric/apiExtent.js","../src/metric/apiOn.js","../src/metric/apiPrepare.js","../src/metric/apiShift.js","../src/metric/apiValueAt.js","../src/metric/apiOperator.js","../src/metric/index.js","../node_modules/d3-dsv/src/dsv.js","../node_modules/d3-dsv/src/csv.js","../node_modules/d3-dsv/src/tsv.js","../node_modules/d3-fetch/src/text.js","../node_modules/d3-fetch/src/json.js","../src/context/apiCube.js","../node_modules/d3-axis/src/array.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../src/context/apiAxis.js","../src/context/apiRule.js","../src/horizon/apiRender.js","../src/horizon/apiMisc.js","../src/horizon/apiRemvoe.js","../src/horizon/index.js","../src/context/apiGangliaWeb.js","../src/librato/downUpSampling.js","../src/librato/findIdealLibratoRFesolution.js","../src/librato/findLibratoResolution.js","../src/librato/makeUrl.js","../src/librato/request.js","../src/librato/index.js","../src/context/apiGraphite.js","../src/comparison/apiRemove.js","../src/comparison/apiMisc.js","../src/uuid.js","../src/comparison/apiRender.js","../src/comparison/index.js","../src/context/index.js","../src/option.js"],"sourcesContent":["var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\n// https://beta.observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTrim from \"./formatTrim\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {bisector, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(deinterpolate, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","const apiStart = state => ({\n  start: () => {\n    const {\n      _timeout,\n      _stop1,\n      _serverDelay,\n      _clientDelay,\n      _step,\n      _event,\n      _scale,\n      _size,\n      _focus,\n    } = state;\n\n    if (_timeout) clearTimeout(_timeout);\n    let delay = +_stop1 + _serverDelay - Date.now();\n\n    // If we're too late for the first prepare _event, skip it.\n    if (delay < _clientDelay) delay += _step;\n\n    const prepare = () => {\n      state._stop1 = new Date(\n        Math.floor((Date.now() - _serverDelay) / _step) * _step\n      );\n      state._start1 = new Date(state._stop1 - _size * _step);\n      _event.call('prepare', state, state._start1, state._stop1);\n\n      setTimeout(() => {\n        state.start0 = state._start1;\n        state.stop0 = state._stop1;\n        _scale.domain([state.start0, state.stop0]);\n        _event.call('beforechange', state, state._start1, state._stop1);\n        _event.call('change', state, state._start1, state._stop1);\n        _event.call('focus', state, _focus);\n      }, _clientDelay);\n\n      state.timeout = setTimeout(prepare, _step);\n    };\n\n    state.timeout = setTimeout(prepare, delay);\n\n    return state;\n  },\n});\n\nexport default apiStart;\n","const apiStop = state => ({\n  stop: () => {\n    state._timeout = clearTimeout(state._timeout);\n    return state;\n  },\n});\n\nexport default apiStop;\n","const apiOn = state => ({\n  on: (type, listener = null) => {\n    const { _event, _focus, _start1, _stop1, _start0, _stop0 } = state;\n    if (listener === null) return _event.on(type);\n\n    _event.on(type, listener);\n\n    // Notify the listener of the current start and stop time, as appropriate.\n    // This way, metrics can make requests for data immediately,\n    // and likewise the axis can display itself synchronously.\n    if (/^prepare(\\.|$)/.test(type)) listener(_start1, _stop1);\n    if (/^beforechange(\\.|$)/.test(type)) listener(_start0, _stop0);\n    if (/^change(\\.|$)/.test(type)) listener(_start0, _stop0);\n    if (/^focus(\\.|$)/.test(type)) listener(_focus);\n\n    return state;\n  },\n});\n\nexport default apiOn;\n","const apiFocus = state => ({\n  focus: i => {\n    const { _event } = state;\n    _event.call('focus', state, (state._focus = i));\n    return state;\n  },\n});\n\nexport default apiFocus;\n","const update = state => {\n  const { _step, _serverDelay, _clientDelay, _scale, _size } = state;\n  const now = Date.now();\n  state._stop0 = new Date(\n    Math.floor((now - _serverDelay - _clientDelay) / _step) * _step\n  );\n  state._start0 = new Date(state._stop0 - _size * _step);\n  state._stop1 = new Date(Math.floor((now - _serverDelay) / _step) * _step);\n  state._start1 = new Date(state._stop1 - _size * _step);\n  _scale.domain([state._start0, state._stop0]);\n  return state;\n};\n\nexport default update;\n","import update from './update';\n\n// The client delay is the amount of additional time we wait to fetch those\n// metrics from the server. The client and server delay combined represent the\n// age of the most recent displayed metric. Defaults to 1 second.\nconst apiClientDelay = state => ({\n  clientDelay: (_clientDelay = null) => {\n    if (_clientDelay === null) return state._clientDelay;\n    state._clientDelay = +_clientDelay;\n    return update(state);\n  },\n});\n\nexport default apiClientDelay;\n","import update from './update';\n\n// The server delay is the amount of time we wait for the server to compute a\n// metric. This delay may result from clock skew or from delays collecting\n// metrics from various hosts. Defaults to 4 seconds.\nconst apiServerDelay = state => ({\n  serverDelay: (_serverDelay = null) => {\n    if (_serverDelay === null) return state._serverDelay;\n    state._serverDelay = +_serverDelay;\n    return update(state);\n  },\n});\n\nexport default apiServerDelay;\n","import update from './update';\n\n// Set or get the context size (the count of metric values).\n// Defaults to 1440 (four hours at ten seconds).\nconst apiSize = state => ({\n  size: (_size = null) => {\n    if (_size === null) return state._size;\n    state._scale.range([0, (state._size = +_size)]);\n    return update(state);\n  },\n});\n\nexport default apiSize;\n","import update from './update';\n\n// Set or ge2t the step interval in milliseconds.\n// Defaults to ten seconds.\nconst apiStep = state => ({\n  step: (_step = null) => {\n    if (_step === null) return state._step;\n    state._step = +_step;\n    return update(state);\n  },\n});\n\nexport default apiStep;\n","const apiAlias = state => ({\n  alias: name => {\n    state.toString = () => name;\n    return state;\n  },\n});\n\nexport default apiAlias;\n","const apiExtent = state => ({\n  extent: () => {\n    const { _size, _values } = state;\n    let i = 0,\n      value,\n      min = Infinity,\n      max = -Infinity;\n    while (++i < _size) {\n      value = _values[i];\n      if (value < min) min = value;\n      if (value > max) max = value;\n    }\n    return [min, max];\n  },\n});\n\nexport default apiExtent;\n","// When the context changes, switch to the new data, ready-or-not!\nconst beforechange = state => (start1, stop1) => {\n  const { _step, _size } = state;\n  if (!isFinite(state._start)) state._start = start1;\n  state._values.splice(\n    0,\n    Math.max(0, Math.min(_size, Math.round((start1 - state._start) / _step)))\n  );\n  state._start = start1;\n  state._stop = stop1;\n};\n\n// Prefetch new data into a temporary array.\nconst prepare = (state, request) => (start1, stop) => {\n  const { _start, _step, _fetching, _event, _size } = state;\n  const steps = Math.min(_size, Math.round((start1 - _start) / _step));\n  if (!steps || _fetching) return; // already fetched, or fetching!\n  state._fetching = true;\n  state._steps = Math.min(_size, steps + 6);\n  const start0 = new Date(stop - state._steps * _step);\n  request(start0, stop, _step, function(error, data) {\n    state._fetching = false;\n    if (error) return console.warn(error);\n    const i = isFinite(_start) ? Math.round((start0 - _start) / _step) : 0;\n    for (let j = 0, m = data.length; j < m; ++j) state._values[j + i] = data[j];\n    _event.call('change', _start, stop);\n  });\n};\n\nconst apiOn = (state, request) => ({\n  on: (type, listener = null) => {\n    const { _event, _id, context, _start, _stop } = state;\n\n    if (listener === null) return _event.on(type);\n\n    // If there are no listeners, then stop listening to the context,\n    // and avoid unnecessary fetches.\n    if (listener == null) {\n      if (_event.on(type) != null && --state._listening === 0) {\n        context.on('prepare' + _id, null).on('beforechange' + _id, null);\n      }\n    } else {\n      if (_event.on(type) == null && ++state._listening === 1) {\n        context\n          .on('prepare' + _id, prepare(state, request))\n          .on('beforechange' + _id, beforechange(state));\n      }\n    }\n\n    _event.on(type, listener);\n\n    // Notify the listener of the current start and stop time, as appropriate.\n    // This way, charts can display synchronous metrics immediately.\n    if (listener != null) {\n      if (/^change(\\.|$)/.test(type)) listener(_start, _stop);\n    }\n\n    return state;\n  },\n});\n\nexport default apiOn;\n","// Number of metric to refetch each period, in case of lag.\nconst MetricOverlap = 6;\n\n// Prefetch new data into a temporary array.\nconst apiPrepare = (state, request) => ({\n  prepare: (start1, stop) => {\n    const { _size, _start, _step, _fetching, _event } = state;\n\n    const steps = Math.min(_size, Math.round((start1 - _start) / _step));\n    if (!steps || _fetching === true) return; // already fetched, or fetching!\n    state._fetching = true;\n    state._steps = Math.min(_size, steps + MetricOverlap);\n    const start0 = new Date(stop - steps * _step);\n\n    request(start0, stop, _step, function(error, data) {\n      state._fetching = false;\n      if (error) return console.warn(error);\n      const i = isFinite(_start) ? Math.round((start0 - _start) / _step) : 0;\n      for (let j = 0, m = data.length; j < m; ++j) values[j + i] = data[j];\n      _event.call('change', state, _start, stop);\n    });\n  },\n});\n\nexport default apiPrepare;\n","// Wraps the specified request implementation, and shifts time by the given offset.\nconst metricShift = (request, offset) => (start, stop, step, callback) =>\n  request(new Date(+start + offset), new Date(+stop + offset), step, callback);\n\nconst apiShift = (state, request) => ({\n  shift: offset => {\n    const { context } = state;\n\n    return context.metric(metricShift(request, +offset));\n  },\n});\n\nexport default apiShift;\n","const apiValueAt = state => ({\n  valueAt: i => state._values[i],\n});\n\nexport default apiValueAt;\n","const genericOperate = (name, operate) => (state, metric) => {\n  return Object.assign(\n    {},\n    state,\n    {\n      valueAt: i => operate(state.valueAt(i), metric.valueAt(i)),\n      toString: () => `${state} ${name} ${metric}`,\n      on: (type, listener = null) => {\n        if (listener === null) return state.on(type);\n        state.on(type, listener);\n        metric.on(type, listener);\n      },\n    },\n    {\n      shift: offset =>\n        genericOperate(name, operate)(\n          state.shift(offset),\n          metric.shift(offset)\n        ),\n    }\n  );\n};\n\nconst apiOperator = state => ({\n  add: metric => genericOperate('+', (a, b) => a + b)(state, metric),\n  subtract: metric => genericOperate('-', (a, b) => a - b)(state, metric),\n  multiply: metric => genericOperate('*', (a, b) => a * b)(state, metric),\n  divide: metric => genericOperate('/', (a, b) => a / b)(state, metric),\n});\n\nexport default apiOperator;\n","import { dispatch } from 'd3-dispatch';\n\nimport apiAlias from './apiAlias';\nimport apiExtent from './apiExtent';\nimport apiOn from './apiOn';\nimport apiPrepare from './apiPrepare';\nimport apiShift from './apiShift';\nimport apiValueAt from './apiValueAt';\nimport apiOperator from './apiOperator';\n\nconst apiToString = name => ({\n  toString: () => name,\n});\n\nconst apiMetric = context => ({\n  metric: (request, name) => {\n    const metricState = {\n      context,\n      _id: '.metric-' + ++context._id,\n      _start: -Infinity,\n      _stop: null,\n      _step: context.step(),\n      _size: context.size(),\n      _values: [],\n      _event: dispatch('change'),\n      _listening: 0,\n      _fetching: false,\n    };\n\n    const metric = Object.assign(\n      metricState,\n      apiOn(metricState, request),\n      apiPrepare(metricState, request),\n      apiValueAt(metricState),\n      apiAlias(metricState),\n      apiShift(metricState, request),\n      apiExtent(metricState),\n      apiToString(name)\n    );\n\n    return Object.assign(metric, apiOperator(metric));\n  },\n});\n\nexport default apiMetric;\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    })).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return text == null ? \"\"\n        : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : text;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatRows: formatRows\n  };\n}\n","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatRows = csv.formatRows;\n","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatRows = tsv.formatRows;\n","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","function responseJson(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.json();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseJson);\n}\n","import { isoFormat } from 'd3-time-format';\nimport { json } from 'd3-fetch';\n\nconst apiCube = context => ({\n  cube: (host = '') => ({\n    toString: () => host,\n    metric: expression => {\n      return context.metric((start, stop, step, callback) => {\n        json(\n          host +\n            '/1.0/metric' +\n            '?expression=' +\n            encodeURIComponent(expression) +\n            '&start=' +\n            isoFormat(start) +\n            '&stop=' +\n            isoFormat(stop) +\n            '&step=' +\n            step\n        ).then(data => {\n          if (!data) return callback(new Error('unable to load data'));\n          callback(null, data.map(d => d.value));\n        });\n      }, (expression += ''));\n    },\n  }),\n});\n\nexport default apiCube;\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"#000\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"#000\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter\n            : \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter);\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","import { timeFormat } from 'd3-time-format';\nimport { axisBottom, axisLeft, axisRight, axisTop } from 'd3-axis';\nimport { select } from 'd3-selection';\n\nconst formatSeconds = timeFormat('%I:%M:%S %p');\nconst formatMinutes = timeFormat('%I:%M %p');\nconst formatDays = timeFormat('%B %d');\nconst formatDefault = context =>\n  context.step() < 6e4\n    ? formatSeconds\n    : context.step() < 864e5\n      ? formatMinutes\n      : formatDays;\n\nconst apiRemove = axisState => ({\n  remove: selection => {\n    const { context } = axisState;\n    selection\n      .selectAll('svg')\n      .each(d => {\n        context.on('change.axis-' + d.id, null);\n        context.on('focus.axis-' + d.id, null);\n      })\n      .remove();\n  },\n});\n\nconst apiFocusFormat = axisState => ({\n  focusFormat: (_ = null) => {\n    if (_ === null)\n      return axisState.format === formatDefault(axisState.context) ? null : _;\n    axisState.format = _ == null ? formatDefault(context) : _;\n    return axisState;\n  },\n});\n\nconst apiRender = (context, state) => ({\n  render: selection => {\n    const { _axis, scale, format, id, size } = state;\n    let tick = null;\n\n    const g = selection\n      .append('svg')\n      .datum({ id })\n      .attr('width', size)\n      .attr('height', Math.max(28, -_axis.tickSize()))\n      .append('g')\n      .attr('transform', 'translate(0,' + 4 + ')')\n      .call(_axis);\n\n    context.on('change.axis-' + id, () => {\n      g.call(_axis);\n      if (!tick)\n        tick = select(\n          g.node().appendChild(\n            g\n              .selectAll('text')\n              .node()\n              .cloneNode(true)\n          )\n        )\n          .style('display', 'none')\n          .text(null);\n    });\n\n    context.on('focus.axis-' + id, i => {\n      if (tick) {\n        if (i == null) {\n          tick.style('display', 'none');\n          g.selectAll('text').style('fill-opacity', null);\n        } else {\n          tick\n            .style('display', null)\n            .attr('x', i)\n            .text(format(scale.invert(i)));\n          const dx = tick.node().getComputedTextLength() + 6;\n          g\n            .selectAll('text')\n            .style('fill-opacity', d => (Math.abs(scale(d) - i) < dx ? 0 : 1));\n        }\n      }\n    });\n  },\n});\n\nconst apiTicks = axisState => ({\n  ticks: (...args) => {\n    axisState._axis.ticks(args);\n    return axisState;\n  },\n});\n\nconst apiOrient = axisSate => ({\n  orient: orient => {\n    const { context } = axisSate;\n    switch (orient) {\n      case 'top':\n        axisSate._axis = axisTop().scale(context._scale);\n        break;\n      case 'bottom':\n        axisSate._axis = axisBottom().scale(context._scale);\n        break;\n      case 'left':\n        axisSate._axis = axisLeft().scale(context._scale);\n        break;\n      case 'right':\n        axisSate._axis = axisRight().scale(context._scale);\n        break;\n      case 'default':\n        console.warn('orient shall be one of bottom|top|left|right');\n        break;\n      default:\n        console.warn('orient shall be one of bottom|top|left|right');\n        break;\n    }\n\n    return axisSate;\n  },\n});\n\nconst apiAxis = context => ({\n  axis: () => {\n    const axisState = {\n      context,\n      size: context._size,\n      scale: context._scale,\n      _axis: axisBottom().scale(context._scale),\n      format: formatDefault(context),\n      id: ++context._id,\n    };\n\n    return Object.assign(\n      axisState,\n      apiRemove(axisState),\n      apiFocusFormat(axisState),\n      apiTicks(axisState),\n      apiOrient(axisState),\n      apiRender(context, axisState)\n    );\n  },\n});\n\nexport default apiAxis;\n","const apiRemove = (ruleState, selection) => ({\n  remove: () => {\n    const { _context } = ruleState;\n\n    selection\n      .selectAll('.line')\n      .each(d => _context.on('focus.rule-' + d.id, null))\n      .remove();\n  },\n});\n\nconst apiMetric = ruleState => ({\n  metric: (metric = null) => {\n    if (metric === null) return ruleState._metric;\n    ruleState._metric = metric;\n    return ruleState;\n  },\n});\n\nconst apiRender = state => ({\n  render: selection => {\n    const { _context, _metric } = state;\n    const id = ++_context._id;\n\n    const line = selection\n      .append('div')\n      .datum({ id: id })\n      .attr('class', 'line')\n      .style('position', 'absolute')\n      .style('top', 0)\n      .style('bottom', 0)\n      .style('width', '1px')\n      .style('pointer-events', 'none');\n\n    selection.each((d, i) => {\n      const metric_ = typeof _metric === 'function' ? _metric(d, i) : _metric;\n      if (!metric_) return;\n\n      const change = (start, stop) => {\n        const values = [];\n\n        for (let i = 0, n = _context.size(); i < n; ++i) {\n          if (metric_.valueAt(i)) {\n            values.push(i);\n          }\n        }\n\n        const lines = selection.selectAll('.metric').data(values);\n        lines.exit().remove();\n        lines\n          .enter()\n          .append('div')\n          .attr('class', 'metric line')\n          .style('position', 'absolute')\n          .style('top', 0)\n          .style('bottom', 0)\n          .style('width', '1px')\n          .style('pointer-events', 'none');\n\n        lines.style('left', i => i + 'px');\n      };\n\n      _context.on('change.rule-' + id, change);\n      metric_.on('change.rule-' + id, change);\n    });\n\n    _context.on('focus.rule-' + id, i => {\n      line\n        // .datum(i)\n        .style('display', i == null ? 'none' : null)\n        .style('left', i == null ? null : `${i}px`);\n    });\n  },\n});\n\nconst apiRule = context => ({\n  rule: () => {\n    const state = {\n      _context: context,\n      _metric: d => d,\n    };\n\n    return Object.assign(\n      state,\n      apiRemove(state),\n      apiMetric(state),\n      apiRender(state)\n    );\n  },\n});\n\nexport default apiRule;\n","import { select } from 'd3-selection';\nimport * as d3 from 'd3';\n\nconst apiRender = (context, state) => ({\n  render: selection => {\n    selection.append('div').attr('a', 'b');\n    const {\n      _width,\n      _height,\n      _title,\n      _metric,\n      _colors,\n      _extent,\n      _scale,\n      _buffer,\n      _mode,\n      _format,\n    } = state;\n\n    selection\n      .on('mousemove.horizon', function() {\n        // todo: why directly importing mouse doesn't work here?\n        context.focus(Math.round(d3.mouse(this)[0]));\n      })\n      .on('mouseout.horizon', () => context.focus(null));\n\n    selection\n      .append('canvas')\n      .attr('width', _width)\n      .attr('height', _height);\n\n    selection\n      .append('span')\n      .attr('class', 'title')\n      .text(_title);\n\n    selection.append('span').attr('class', 'value');\n\n    selection.each(function(d, i) {\n      const id = ++context._id,\n        metric_ = typeof _metric === 'function' ? _metric(d, i) : _metric,\n        colors_ = typeof _colors === 'function' ? _colors(d, i) : _colors,\n        extent_ = typeof _extent === 'function' ? _extent(d, i) : _extent,\n        step = context.step(),\n        canvas = select(this).select('canvas'),\n        span = select(this).select('.value'),\n        m = colors_.length >> 1;\n\n      let start = -Infinity,\n        max_,\n        y1,\n        ready;\n\n      canvas.datum({ id: id, metric: metric_ });\n      const ctx = canvas.node().getContext('2d');\n\n      function change(start1, stop) {\n        ctx.save();\n\n        // compute the new extent and ready flag\n        let extent = metric_.extent();\n        ready = extent.every(isFinite);\n        if (extent_ != null) extent = extent_;\n\n        // if this is an update (with no extent change), copy old values!\n        let i0 = 0,\n          max = Math.max(-extent[0], extent[1]);\n        if (this === context) {\n          if (max === max_) {\n            i0 = _width - 6;\n            const dx = (start1 - start) / step;\n            if (dx < _width) {\n              const canvas0 = _buffer.getContext('2d');\n              canvas0.clearRect(0, 0, _width, _height);\n              canvas0.drawImage(\n                ctx.canvas,\n                dx,\n                0,\n                _width - dx,\n                _height,\n                0,\n                0,\n                _width - dx,\n                _height\n              );\n              ctx.clearRect(0, 0, _width, _height);\n              ctx.drawImage(canvas0.canvas, 0, 0);\n            }\n          }\n          start = start1;\n        }\n\n        // update the domain\n        _scale.domain([0, (max_ = max)]);\n\n        // clear for the new data\n        ctx.clearRect(i0, 0, _width - i0, _height);\n\n        // record whether there are negative values to display\n        let negative;\n\n        // positive bands\n        for (let j = 0; j < m; ++j) {\n          ctx.fillStyle = colors_[m + j];\n\n          // Adjust the range based on the current band index.\n          let y0 = (j - m + 1) * _height;\n          _scale.range([m * _height + y0, y0]);\n          y0 = _scale(0);\n\n          for (let i = i0, n = _width, y1; i < n; ++i) {\n            y1 = metric_.valueAt(i);\n            if (y1 <= 0) {\n              negative = true;\n              continue;\n            }\n            if (y1 === undefined) continue;\n            ctx.fillRect(i, (y1 = _scale(y1)), 1, y0 - y1);\n          }\n        }\n\n        if (negative) {\n          // enable offset mode\n          if (_mode === 'offset') {\n            ctx.translate(0, _height);\n            ctx.scale(1, -1);\n          }\n\n          // negative bands\n          for (let j = 0; j < m; ++j) {\n            ctx.fillStyle = colors_[m - 1 - j];\n\n            // Adjust the range based on the current band index.\n            let y0 = (j - m + 1) * _height;\n            _scale.range([m * _height + y0, y0]);\n            y0 = _scale(0);\n\n            for (let i = i0, n = _width, y1; i < n; ++i) {\n              y1 = metric_.valueAt(i);\n              if (y1 >= 0) continue;\n              ctx.fillRect(i, _scale(-y1), 1, y0 - _scale(-y1));\n            }\n          }\n        }\n\n        ctx.restore();\n      }\n\n      const focus = i => {\n        if (i == null) i = _width - 1;\n        const value = metric_.valueAt(i);\n        span.datum(value).text(isNaN(value) ? null : _format);\n      };\n\n      // Update the chart when the context changes.\n      context.on('change.horizon-' + id, change);\n      context.on('focus.horizon-' + id, focus);\n\n      // Display the first metric change immediately,\n      // but defer subsequent updates to the canvas change.\n      // Note that someone still needs to listen to the metric,\n      // so that it continues to update automatically.\n      metric_.on('change.horizon-' + id, function(start, stop) {\n        change(start, stop), focus();\n        if (ready) metric_.on('change.horizon-' + id, d => d);\n      });\n    });\n  },\n});\n\nexport default apiRender;\n","const apiMisc = state => ({\n  mode: (_ = null) => {\n    if (_ === null) return state._mode;\n    state._mode = _ + '';\n    return state;\n  },\n\n  height: (_ = null) => {\n    if (_ === null) return state._height;\n    state._height = +_;\n    state._buffer.height = +_;\n    return state;\n  },\n\n  metric: (_ = null) => {\n    if (_ === null) return state._metric;\n    state._metric = _;\n    return state;\n  },\n\n  scale: (_ = null) => {\n    if (_ === null) return state._scale;\n    state._scale = _;\n    return state;\n  },\n\n  extent: (_ = null) => {\n    if (_ === null) return state._extent;\n    state._extent = _;\n    return state;\n  },\n\n  title: (_ = null) => {\n    if (_ === null) return state._title;\n    state._title = _;\n    return state;\n  },\n\n  format: (_ = null) => {\n    if (_ === null) return state._format;\n    state._format = _;\n    return state;\n  },\n  colors: (_ = null) => {\n    if (_ === null) return state._colors;\n    state._colors = _;\n    return state;\n  },\n});\n\nexport default apiMisc;\n","const apiRemove = context => ({\n  remove: selection => {\n    selection.on('mousemove.horizon', null).on('mouseout.horizon', null);\n\n    const remove = d => {\n      d.metric.on('change.horizon-' + d.id, null);\n      context.on('change.horizon-' + d.id, null);\n      context.on('focus.horizon-' + d.id, null);\n    };\n\n    selection\n      .selectAll('canvas')\n      .each(remove)\n      .remove();\n\n    selection.selectAll('._title,.value').remove();\n  },\n});\n\nexport default apiRemove;\n","import { scaleLinear } from 'd3-scale';\nimport { format } from 'd3-format';\nimport { interpolateRound } from 'd3-interpolate';\n\nimport apiRender from './apiRender';\nimport apiMisc from './apiMisc';\nimport apiRemove from './apiRemvoe';\n\nconst apiHorizon = context => ({\n  horizon: function() {\n    const buffer = document.createElement('canvas');\n    buffer.width = context.size();\n    buffer.height = 30;\n\n    const state = {\n      _mode: 'offset',\n      _buffer: buffer,\n      _width: buffer.width,\n      _height: buffer.height,\n      _scale: scaleLinear().interpolate(interpolateRound),\n      _metric: d => d,\n      _extent: null,\n      _title: d => d,\n      _format: format('.2s'),\n      _colors: [\n        '#08519c',\n        '#3182bd',\n        '#6baed6',\n        '#bdd7e7',\n        '#bae4b3',\n        '#74c476',\n        '#31a354',\n        '#006d2c',\n      ],\n    };\n\n    return Object.assign(\n      state,\n      apiRemove(state),\n      apiMisc(state),\n      apiRender(context, state)\n    );\n  },\n});\n\nexport default apiHorizon;\n","import { json } from 'd3-fetch';\n\nconst apiGangliaWeb = context => ({\n  gangliaWeb: config => {\n    const host = config.host || '';\n    let uriPathPrefix = config.uriPathPrefix || '/ganglia2/';\n\n    /* Add leading and trailing slashes, as appropriate. */\n    if (uriPathPrefix[0] !== '/') {\n      uriPathPrefix = '/' + uriPathPrefix;\n    }\n\n    if (uriPathPrefix[uriPathPrefix.length - 1] !== '/') {\n      uriPathPrefix += '/';\n    }\n\n    return {\n      toString: () => host + uriPathPrefix,\n      metric: metricInfo => {\n        /* Store the members from metricInfo into local variables. */\n        const {\n          clusterName,\n          metricName,\n          hostName,\n          onChangeCallback,\n        } = metricInfo;\n        const isReport =\n          metricInfo.isReport === undefined ? false : metricInfo.isReport;\n        /* Reasonable (not necessarily pretty) default for titleGenerator. */\n        const defaultTitleGenerator = unusedMetricInfo =>\n          `clusterName:${clusterName} metricName:${metricName} hostName:${hostName}`;\n        const titleGenerator =\n          metricInfo.titleGenerator || defaultTitleGenerator;\n\n        /* Default to plain, simple metrics. */\n        const metricKeyName = isReport ? 'g' : 'm';\n\n        const metricFn = (start, stop, step, callback) => {\n          const constructGangliaWebRequestQueryParams = () =>\n            `c=${clusterName}&${metricKeyName}=${metricName}&h=${hostName}` +\n            '&cs=' +\n            start / 1000 +\n            '&ce=' +\n            stop / 1000 +\n            '&step=' +\n            step / 1000 +\n            '&graphlot=1';\n\n          json(\n            host +\n              uriPathPrefix +\n              'graph.php?' +\n              constructGangliaWebRequestQueryParams()\n          )\n            .then(result => {\n              if (result === undefined || result === null) {\n                return callback(new Error('Unable to fetch GangliaWeb data'));\n              }\n\n              callback(null, result[0].data);\n            })\n            .catch(e =>\n              callback(new Error(`Unable to fetch GangliaWeb data: Error ${e}`))\n            );\n        };\n        titleGenerator(metricInfo);\n\n        const gangliaWebMetric = context.metric(metricFn);\n\n        gangliaWebMetric.toString = () => titleGenerator(metricInfo);\n\n        /* Allow users to run their custom code each time a gangliaWebMetric changes.\n         *\n         * TODO Consider abstracting away the naked Cubism call, and instead exposing\n         * a callback that takes in the values array (maybe alongwith the original\n         * start and stop 'naked' parameters), since it's handy to have the entire\n         * dataset at your disposal (and users will likely implement onChangeCallback\n         * primarily to get at this dataset).\n         */\n        if (onChangeCallback) {\n          gangliaWebMetric.on('change', onChangeCallback);\n        }\n\n        return gangliaWebMetric;\n      },\n    };\n  },\n});\n\nexport default apiGangliaWeb;\n","/*\n * We are most likely not going to get the same number of measurements\n * cubism expects for a particular context: We have to perform down/up\n * sampling\n */\nconst downUpSampling = (isdate, iedate, step, librato_mm) => {\n  const av = [];\n\n  for (let i = isdate; i <= iedate; i += step) {\n    const int_mes = [];\n    while (librato_mm.length && librato_mm[0].measure_time <= i) {\n      int_mes.push(librato_mm.shift().value);\n    }\n\n    let v;\n    if (int_mes.length) {\n      /* Compute the average */\n      v =\n        int_mes.reduce(function(a, b) {\n          return a + b;\n        }) / int_mes.length;\n    } else {\n      /* No librato values on interval */\n      v = av.length ? av[av.length - 1] : 0;\n    }\n    av.push(v);\n  }\n\n  return av;\n};\n\nexport default downUpSampling;\n","/* Given a step, find the best librato resolution to use.\n         *\n         * Example:\n         *\n         * (s) : cubism step\n         *\n         * avail_rsts   1 --------------- 60 --------------- 900 ---------------- 3600\n         *                                |    (s)            |\n         *                                |                   |\n         *                              [low_res             top_res]\n         *\n         * return: low_res (60)\n         */\nconst findIdealLibratoRFesolution = step => {\n  const avail_rsts = [1, 60, 900, 3600];\n  const highest_res = avail_rsts[0],\n    lowest_res = avail_rsts[avail_rsts.length]; // high and lowest available resolution from librato\n\n  /* If step is outside the highest or lowest librato resolution, pick them and we are done */\n  if (step >= lowest_res) return lowest_res;\n\n  if (step <= highest_res) return highest_res;\n\n  /* If not, find in what resolution interval the step lands. */\n  let iof, top_res, i;\n  for (i = step; i <= lowest_res; i++) {\n    iof = avail_rsts.indexOf(i);\n    if (iof > -1) {\n      top_res = avail_rsts[iof];\n      break;\n    }\n  }\n\n  let low_res;\n  for (i = step; i >= highest_res; i--) {\n    iof = avail_rsts.indexOf(i);\n    if (iof > -1) {\n      low_res = avail_rsts[iof];\n      break;\n    }\n  }\n\n  /* What's the closest librato resolution given the step ? */\n  return top_res - step < step - low_res ? top_res : low_res;\n};\n\nexport default findIdealLibratoRFesolution;\n","import findIdealLibratoRFesolution from './findIdealLibratoRFesolution';\n\nconst findLibratoResolution = (sdate, edate, step) => {\n  const i_size = edate - sdate, // interval size\n    month = 2419200,\n    week = 604800,\n    two_days = 172800;\n\n  if (i_size > month) return 3600;\n\n  const ideal_res = findIdealLibratoRFesolution(step);\n\n  /*\n     * Now we have the ideal resolution, but due to the retention policies at librato, maybe we have\n     * to use a higher resolution.\n     * http://support.metrics.librato.com/knowledgebase/articles/66838-understanding-metrics-roll-ups-retention-and-grap\n     */\n  if (i_size > week && ideal_res < 900) return 900;\n  else if (i_size > two_days && ideal_res < 60) return 60;\n  else return ideal_res;\n};\n\nexport default findLibratoResolution;\n","import findLibratoResolution from './findLibratoResolution';\n\nconst make_url = (sdate, edate, step, composite) => {\n  const url_prefix = 'https://metrics-api.librato.com/v1/metrics';\n  const params =\n    'compose=' +\n    composite +\n    '&start_time=' +\n    sdate +\n    '&end_time=' +\n    edate +\n    '&resolution=' +\n    findLibratoResolution(sdate, edate, step);\n  return url_prefix + '?' + params;\n};\n\nexport default make_url;\n","import { json } from 'd3-fetch';\n\nimport downUpSampling from './downUpSampling';\nimport makeUrl from './makeUrl';\n\n/* All the logic to query the librato API is here */\nconst request = (composite, user, token) => ({\n  fire: (isdate, iedate, step, callback_done) => {\n    const a_values = []; /* Store partial values from librato */\n    const full_url = makeUrl(isdate, iedate, step, composite);\n    const auth_string = 'Basic ' + btoa(user + ':' + token);\n\n    /*\n         * Librato has a limit in the number of measurements we get back in a request (100).\n         * We recursively perform requests to the API to ensure we have all the data points\n         * for the interval we are working on.\n         */\n    json(full_url)\n      .header('X-Requested-With', 'XMLHttpRequest')\n      .header('Authorization', auth_string)\n      .header('Librato-User-Agent', 'cubism/' + cubism.version)\n      .then(data => {\n        if (data.measurements.length === 0) {\n          return;\n        }\n        data.measurements[0].series.forEach(function(o) {\n          a_values.push(o);\n        });\n\n        const still_more_values = 'query' in data && 'next_time' in data.query;\n        if (still_more_values) {\n          request(makeUrl(data.query.next_time, iedate, step));\n        } else {\n          const a_adjusted = downUpSampling(isdate, iedate, step, a_values);\n          callback_done(a_adjusted);\n        }\n      })\n      .catch(error => console.error(error));\n  },\n});\n\nexport default request;\n","/* librato (http://dev.librato.com/v1/post/metrics) source\n * If you want to see an example of how to use this source, check: https://gist.github.com/drio/5792680\n */\nimport request from './request';\n\nconst DateFormatter = time => Math.floor(time / 1000);\n\nconst apiLibrato = context => ({\n  librato: (user, token) => ({\n    toString: () => 'librato',\n    metric: m_composite =>\n      context.metric((start, stop, step, callback) => {\n        /* All the librato logic is here; .fire() retrieves the metrics' data */\n        request(m_composite, user, token).fire(\n          DateFormatter(start),\n          DateFormatter(stop),\n          DateFormatter(step),\n          a_values => callback(null, a_values)\n        );\n      }, (m_composite += '')),\n  }),\n});\n\nexport default apiLibrato;\n","import { json, text } from 'd3-fetch';\n\n// Helper method for parsing graphite's raw format.\nconst parseGraphite = text => {\n  const i = text.indexOf('|'),\n    meta = text.substring(0, i),\n    c = meta.lastIndexOf(','),\n    b = meta.lastIndexOf(',', c - 1),\n    a = meta.lastIndexOf(',', b - 1),\n    start = meta.substring(a + 1, b) * 1000,\n    step = meta.substring(c + 1) * 1000;\n  return text\n    .substring(i + 1)\n    .split(',')\n    .slice(1) // the first value is always None?\n    .map(d => +d);\n};\n\nconst DateFormatter = time => Math.floor(time / 1000);\n\nconst apiGraphite = context => ({\n  graphite: (host = '') => {\n    return {\n      toString: () => host, // Returns the graphite host.\n      find: (pattern, callback) => {\n        json(\n          host +\n            '/metrics/find?format=completer' +\n            '&query=' +\n            encodeURIComponent(pattern)\n        ).then(result => {\n          if (!result) return callback(new Error('unable to find metrics'));\n          callback(\n            null,\n            result.metrics.map(function(d) {\n              return d.path;\n            })\n          );\n        });\n      },\n      metric: expression => {\n        let sum = 'sum';\n\n        const metric = context.metric((start, stop, step, callback) => {\n          let target = expression;\n\n          // Apply the summarize, if necessary.\n          if (step !== 1e4)\n            target =\n              'summarize(' +\n              target +\n              \",'\" +\n              (!(step % 36e5)\n                ? step / 36e5 + 'hour'\n                : !(step % 6e4)\n                  ? step / 6e4 + 'min'\n                  : step / 1e3 + 'sec') +\n              \"','\" +\n              sum +\n              \"')\";\n\n          text(\n            host +\n            '/render?format=raw' +\n            '&target=' +\n            encodeURIComponent('alias(' + target + \",'')\") +\n            '&from=' +\n            DateFormatter(start - 2 * step) + // off-by-two?\n              '&until=' +\n              DateFormatter(stop - 1000)\n          ).then(text => {\n            if (!text) return callback(new Error('unable to load data'));\n            callback(null, parseGraphite(text));\n          });\n        }, (expression += ''));\n\n        metric.summarize = _sum => {\n          sum = _sum;\n          return metric;\n        };\n\n        return metric;\n      },\n    };\n  },\n});\n\nexport default apiGraphite;\n","const apiRemove = state => ({\n  remove: selection => {\n    const { context } = state;\n    const _remove = d => {\n      d.primary.on('change.comparison-' + d.id, null);\n      d.secondary.on('change.comparison-' + d.id, null);\n      context.on('change.comparison-' + d.id, null);\n      context.on('focus.comparison-' + d.id, null);\n    };\n\n    selection.on('mousemove.comparison', null).on('mouseout.comparison', null);\n    selection\n      .selectAll('canvas')\n      .each(_remove)\n      .remove();\n\n    selection.selectAll('.title,.value').remove();\n  },\n});\n\nexport default apiRemove;\n","const apiMisc = state => ({\n  height: (_ = null) => {\n    if (_ === null) return state._height;\n    state._height = +_;\n    return state;\n  },\n  primary: (_ = null) => {\n    if (_ === null) return state._primary;\n    state._primary = primary;\n    return state;\n  },\n  secondary: (_ = null) => {\n    if (_ === null) return state._secondary;\n    state._secondary = _;\n    return state;\n  },\n  extent: (_ = null) => {\n    if (_ === null) return state._extent;\n    state._extent = _;\n    return state;\n  },\n  scale: (_ = null) => {\n    if (_ === null) return state._scale;\n    state._scale = _;\n    return state;\n  },\n  title: (_ = null) => {\n    if (_ === null) return state._title;\n    state._title = _;\n    return state;\n  },\n  formatPrimary: (_ = null) => {\n    if (_ === null) return state._formatPrimary;\n    state._formatPrimary = _;\n    return state;\n  },\n  formatChange: (_ = null) => {\n    if (_ === null) return state._formatChange;\n    state._formatChange = _;\n    return state;\n  },\n  colors: (_ = null) => {\n    if (_ === null) return state._colors;\n    state._colorscolors = _;\n    return state;\n  },\n  strokeWidth: (_ = null) => {\n    if (_ === null) return state._strokeWidth;\n    state._strokeWidth = _;\n    return state;\n  },\n});\n\nexport default apiMisc;\n","const s4 = () =>\n  Math.floor((1 + Math.random()) * 0x10000)\n    .toString(16)\n    .substring(1);\n\nconst uuid = () =>\n  s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n\nexport default uuid;\n","import { select } from 'd3-selection';\nimport * as d3 from 'd3';\nimport uuid from '../uuid';\n\nconst roundEven = i => i & 0xfffffe;\nconst roundOdd = i => ((i + 1) & 0xfffffe) - 1;\n\nconst apiRender = state => ({\n  render: selection => {\n    const {\n      context,\n      _width,\n      _height,\n      _scale,\n      _primary,\n      _secondary,\n      _extent,\n      _title,\n      _formatPrimary,\n      _formatChange,\n      _colors,\n      _strokeWidth,\n    } = state;\n\n    selection\n      .on('mousemove.comparison', function() {\n        // todo, why directly d3.mouse doesn't work?\n        context.focus(Math.round(d3.mouse(this)[0]));\n      })\n      .on('mouseout.comparison', () => context.focus(null));\n\n    selection\n      .append('canvas')\n      .attr('width', _width)\n      .attr('height', _height);\n\n    selection\n      .append('span')\n      .attr('class', 'title')\n      .text(_title);\n\n    selection.append('span').attr('class', 'value primary');\n    selection.append('span').attr('class', 'value change');\n\n    selection.each(function(d, i) {\n      const id = uuid(),\n        primary_ =\n          typeof _primary === 'function' ? _primary.call(this, d, i) : _primary,\n        secondary_ =\n          typeof _secondary === 'function'\n            ? _secondary.call(this, d, i)\n            : _secondary,\n        extent_ =\n          typeof _extent === 'function' ? _extent.call(this, d, i) : _extent,\n        div = select(this),\n        canvas = div.select('canvas'),\n        spanPrimary = div.select('.value.primary'),\n        spanChange = div.select('.value.change');\n\n      let ready = null;\n\n      canvas.datum({ id: id, primary: primary_, secondary: secondary_ });\n      const canvasContext = canvas.node().getContext('2d');\n\n      function change(start, stop) {\n        canvasContext.save();\n        canvasContext.clearRect(0, 0, _width, _height);\n\n        // update the scale\n        const primaryExtent = primary_.extent(),\n          secondaryExtent = secondary_.extent(),\n          extent = extent_ == null ? primaryExtent : extent_;\n        _scale.domain(extent).range([_height, 0]);\n        ready = primaryExtent.concat(secondaryExtent).every(isFinite);\n\n        // consistent overplotting\n        const round = (start / context.step()) & 1 ? roundOdd : roundEven;\n\n        // positive changes\n        canvasContext.fillStyle = _colors[2];\n        for (let i = 0, n = _width; i < n; ++i) {\n          const y0 = _scale(primary_.valueAt(i)),\n            y1 = _scale(secondary_.valueAt(i));\n          if (y0 < y1) canvasContext.fillRect(round(i), y0, 1, y1 - y0);\n        }\n\n        // negative changes\n        canvasContext.fillStyle = _colors[0];\n        for (let i = 0, n = _width; i < n; ++i) {\n          const y0 = _scale(primary_.valueAt(i)),\n            y1 = _scale(secondary_.valueAt(i));\n          if (y0 > y1) canvasContext.fillRect(round(i), y1, 1, y0 - y1);\n        }\n\n        // positive values\n        canvasContext.fillStyle = _colors[3];\n        for (let i = 0, n = _width; i < n; ++i) {\n          const y0 = _scale(primary_.valueAt(i)),\n            y1 = _scale(secondary_.valueAt(i));\n          if (y0 <= y1) canvasContext.fillRect(round(i), y0, 1, _strokeWidth);\n        }\n\n        // negative values\n        canvasContext.fillStyle = _colors[1];\n        for (let i = 0, n = _width; i < n; ++i) {\n          const y0 = _scale(primary_.valueAt(i)),\n            y1 = _scale(secondary_.valueAt(i));\n          if (y0 > y1)\n            canvasContext.fillRect(\n              round(i),\n              y0 - _strokeWidth,\n              1,\n              _strokeWidth\n            );\n        }\n\n        canvasContext.restore();\n      }\n\n      const focus = (i = _width - 1) => {\n        const valuePrimary = primary_.valueAt(i),\n          valueSecondary = secondary_.valueAt(i),\n          valueChange = (valuePrimary - valueSecondary) / valueSecondary;\n\n        spanPrimary\n          .datum(valuePrimary)\n          .text(isNaN(valuePrimary) ? null : _formatPrimary);\n\n        spanChange\n          .datum(valueChange)\n          .text(isNaN(valueChange) ? null : _formatChange)\n          .attr(\n            'class',\n            'value change ' +\n              (valueChange > 0 ? 'positive' : valueChange < 0 ? 'negative' : '')\n          );\n      };\n\n      const firstChange = (start, stop) => {\n        change(start, stop);\n        focus();\n        if (ready) {\n          primary_.on('change.comparison-' + id, d => d);\n          secondary_.on('change.comparison-' + id, d => d);\n        }\n      };\n\n      // Display the first primary change immediately,\n      // but defer subsequent updates to the context change.\n      // Note this someone still needs to listen to the metric,\n      // so this it continues to update automatically.\n      primary_.on('change.comparison-' + id, firstChange);\n      secondary_.on('change.comparison-' + id, firstChange);\n\n      // Update the chart when the context changes.\n      context.on('change.comparison-' + id, change);\n      context.on('focus.comparison-' + id, focus);\n    });\n  },\n});\n\nexport default apiRender;\n","import { scaleLinear } from 'd3-scale';\nimport { interpolateRound } from 'd3-interpolate';\nimport { format } from 'd3-format';\n\nimport apiRemove from './apiRemove';\nimport apiMisc from './apiMisc';\nimport apiRender from './apiRender';\n\nconst initState = context => ({\n  context,\n  _width: context.size(),\n  _height: 120,\n  _scale: scaleLinear().interpolate(interpolateRound),\n  _primary: d => d[0],\n  _secondary: d => d[1],\n  _extent: null,\n  _title: d => d,\n  _formatPrimary: format('.2s'),\n  _formatChange: format('+.0%'),\n  _colors: ['#9ecae1', '#225b84', '#a1d99b', '#22723a'],\n  _strokeWidth: 1.5,\n});\n\nconst apiComparison = context => ({\n  comparison: () => {\n    const state = initState(context);\n\n    return Object.assign(\n      state,\n      apiRemove(state),\n      apiMisc(state),\n      apiRender(state)\n    );\n  },\n});\n\nexport default apiComparison;\n","import { dispatch } from 'd3-dispatch';\nimport { scaleTime } from 'd3-scale';\nimport { select, event } from 'd3-selection';\nimport apiStart from './apiStart';\nimport apiStop from './apiStop';\nimport apiOn from './apiOn';\nimport apiFocus from './apiFocus';\nimport apiClientDelay from './apiClientDelay';\nimport apiServerDelay from './apiServerDelay';\nimport apiSize from './apiSize';\nimport apiStep from './apiStep';\nimport update from './update';\n\nimport apiMetric from '../metric';\nimport apiCube from './apiCube';\nimport apiAxis from './apiAxis';\nimport apiRule from './apiRule';\nimport apiHorizon from '../horizon';\n\nimport apiGangliaWeb from './apiGangliaWeb';\nimport apiLibrato from '../librato';\nimport apiGraphite from './apiGraphite';\nimport apiComparison from '../comparison';\n\nconst config = {\n  id: 1,\n  step: 1e4, // ten seconds, in milliseconds\n  size: 1440, // ten seconds, in milliseconds\n  serverDelay: 5e3,\n  clientDelay: 5e3,\n  event: dispatch('prepare', 'beforechange', 'change', 'focus'),\n  start0: null,\n  stop0: null, // the start and stop for the previous change event\n  start1: null,\n  stop1: null, // the start and stop for the next prepare event\n  timeout: null,\n  focus: null,\n  scale: scaleTime().range([0, 1440]),\n};\n\nconst context = () => {\n  const state = {\n    _id: 1,\n    _step: 1e4, // ten seconds, in milliseconds\n    _size: 1440, // ten seconds, in milliseconds\n    _serverDelay: 5e3,\n    _clientDelay: 5e3,\n    _event: dispatch('prepare', 'beforechange', 'change', 'focus'),\n    _start0: null,\n    _stop0: null, // the start and stop for the previous change event\n    _start1: null,\n    _stop1: null, // the start and stop for the next prepare event\n    _timeout: null,\n    _focus: null,\n    _scale: scaleTime().range([0, 1440]),\n  };\n\n  const _context = Object.assign(\n    state,\n    apiAxis(state),\n    apiComparison(state),\n    apiCube(state),\n    apiClientDelay(state),\n    apiFocus(state),\n    apiMetric(state),\n    apiOn(state),\n    apiRule(state),\n    apiServerDelay(state),\n    apiSize(state),\n    apiStart(state),\n    apiStop(state),\n    apiStep(state)\n  );\n\n  state._timeout = setTimeout(_context.start, 10);\n\n  const { focus } = _context;\n\n  select(window).on('keydown.context-' + ++_context._id, function() {\n    switch (!event.metaKey && event.keyCode) {\n      case 37: // left\n        if (focus == null) _context.focus = size - 1;\n        if (focus > 0) _context.focus(--_context.focus);\n        break;\n      case 39: // right\n        if (focus == null) _context.focus = size - 2;\n        if (focus < size - 1) _context.focus(++_context.focus);\n        break;\n      default:\n        return;\n    }\n\n    event.preventDefault();\n  });\n\n  const cubismContext = update(_context);\n\n  return Object.assign(\n    cubismContext,\n    apiHorizon(cubismContext),\n    apiGangliaWeb(cubismContext),\n    apiLibrato(cubismContext),\n    apiGraphite(cubismContext)\n  );\n};\n\nexport default context;\n","const options = (name, defaultValues = null) => {\n  const options = location.search.substring(1).split('&'),\n    values = [],\n    n = options.length;\n\n  let i = -1,\n    o;\n  while (++i < n) {\n    if ((o = options[i].split('='))[0] === name) {\n      values.push(decodeURIComponent(o[1]));\n    }\n  }\n  return values.length || !defaultValues ? values : defaultValues;\n};\n\nconst option = (name, defaultValue) => {\n  const values = options(name);\n  return values.length ? values[0] : defaultValue;\n};\n\nexport { options, option };\n"],"names":["noop","value","dispatch","i","n","arguments","length","_","t","Error","Dispatch","parseTypenames","typenames","types","trim","split","map","name","indexOf","slice","hasOwnProperty","type","prototype","constructor","on","typename","callback","T","get","set","copy","call","that","args","Array","apply","c","concat","push","a","b","NaN","compare","ascendingComparator","left","x","lo","hi","mid","right","f","d","ascending","ascendingBisect","bisector","bisectRight","e10","Math","sqrt","e5","e2","start","stop","count","reverse","ticks","step","tickIncrement","isFinite","ceil","floor","max","power","log","LN10","error","pow","tickStep","step0","abs","step1","prefix","Map","has","key","remove","property","clear","keys","values","entries","size","empty","each","object","isArray","o","Set","proto","add","array","factory","extend","parent","definition","Object","create","Color","darker","brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","define","color","displayable","rgb","toString","format","m","toLowerCase","exec","parseInt","Rgb","rgbn","rgba","hsla","r","g","rgbConvert","opacity","k","isNaN","min","round","h","s","l","Hsl","hslConvert","hsl","m2","m1","hsl2rgb","deg2rad","PI","rad2deg","K","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","cos","sin","rgb2lrgb","y","xyz2lab","z","lab","lab2xyz","lrgb2rgb","hclConvert","atan2","hcl","A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","linear","exponential","gamma","nogamma","constant","rgbGamma","end","colorRgb","nb","na","Date","setTime","reA","reB","source","zero","one","bi","lastIndex","am","bm","bs","q","index","number","join","string","date","valueOf","degrees","rho","SQRT2","unit","deinterpolateLinear","deinterpolateClamp","deinterpolate","reinterpolateClamp","reinterpolate","bimap","domain","range","d0","d1","r0","r1","polymap","j","bisect","target","interpolate","clamp","continuous","interpolateValue","piecewise","output","input","rescale","scale","invert","rangeRound","interpolateRound","p","toExponential","coefficient","formatDecimal","grouping","thousands","width","substring","numerals","replace","re","formatSpecifier","specifier","FormatSpecifier","match","fill","align","sign","symbol","comma","precision","out","i0","i1","prefixExponent","exponent","toFixed","toPrecision","formatRounded","formatPrefixAuto","toUpperCase","prefixes","locale","group","formatGroup","identity","currency","decimal","formatNumerals","percent","newFormat","formatTypes","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","charCodeAt","Infinity","padding","formatPrefix","e","defaultLocale","formatLocale","precisionPrefix","precisionRound","precisionFixed","linearish","tickFormat","nice","interval","x0","x1","newInterval","floori","offseti","field","offset","previous","filter","every","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","getUTCSeconds","minute","getMinutes","hour","getTimezoneOffset","getHours","day","setHours","setDate","getDate","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","localDate","H","M","S","L","utcDate","UTC","newYear","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","X","pad","pads","charAt","newParse","newDate","parseSpecifier","week","Q","V","w","timeMonday","timeDay","u","W","U","Z","parse","utcFormat","utcParse","numberRe","percentRe","requoteRe","requote","names","timeYear","getMilliseconds","getSeconds","timeSunday","timeThursday","getUTCMilliseconds","dow","timeFormat","timeParse","isoSpecifier","formatIsoNative","toISOString","formatIso","parseIsoNative","parseIso","durationMonth","durationYear","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","tickIntervals","tickInterval","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","timeMillisecond","xhtml","svg","xlink","xml","xmlns","namespaces","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","namespace","none","selector","querySelector","select","groups","_groups","subgroups","subgroup","node","subnode","__data__","Selection","_parents","querySelectorAll","selectorAll","parents","matcher","matches","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","update","_enter","sparse","EnterNode","datum","_next","_parent","appendChild","child","insertBefore","next","keyPrefix","bindIndex","enter","exit","data","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","keyValue","bind","enterGroup","updateGroup","exitGroup","_exit","selection","groups0","groups1","m0","merges","group0","group1","merge","nextSibling","parentNode","compareNode","sortgroups","sortgroup","sort","order","nodes","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","getAttributeNS","getAttribute","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","splice","contains","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","lower","previousSibling","firstChild","creator","constantNull","before","removeChild","selection_cloneShallow","cloneNode","selection_cloneDeep","deep","filterEvents","event","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","__on","removeEventListener","capture","onAdd","wrap","addEventListener","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","selection_select","selectAll","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attr","selection_attr","selection_style","selection_property","classed","selection_classed","text","selection_text","html","selection_html","selection_raise","selection_lower","append","selection_append","insert","selection_insert","selection_remove","clone","selection_clone","selection_datum","selection_on","selection_dispatch","apiStart","_timeout","state","_stop1","_serverDelay","_clientDelay","_step","_event","_scale","_size","_focus","clearTimeout","delay","now","prepare","_start1","setTimeout","start0","stop0","timeout","apiStop","apiOn","_start0","_stop0","apiFocus","focus","apiClientDelay","clientDelay","apiServerDelay","serverDelay","apiSize","apiStep","apiAlias","alias","apiExtent","extent","_values","beforechange","start1","stop1","_start","_stop","request","_fetching","steps","_steps","console","warn","_id","context","_listening","MetricOverlap","apiPrepare","metricShift","apiShift","shift","metric","apiValueAt","valueAt","genericOperate","operate","assign","apiOperator","subtract","multiply","divide","apiToString","apiMetric","metricState","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","Function","JSON","stringify","customConverter","row","inferColumns","rows","columnSet","forEach","column","delimiter","reFormat","DELIMITER","convert","parseRows","N","I","eof","eol","token","formatValue","formatRows","formatRow","csv","dsv","tsv","responseText","response","ok","status","statusText","init","fetch","then","responseJson","json","apiCube","cube","host","encodeURIComponent","expression","isoFormat","top","bottom","epsilon","translateX","translateY","center","bandwidth","entering","__axis","axis","orient","tickArguments","tickValues","tickSizeInner","tickSizeOuter","tickPadding","transform","spacing","range0","range1","position","path","tick","tickExit","tickEnter","line","transition","tickSize","axisTop","axisRight","axisBottom","axisLeft","formatDays","formatDefault","apiRemove","axisState","id","apiFocusFormat","focusFormat","apiRender","render","_axis","dx","getComputedTextLength","apiTicks","apiOrient","axisSate","apiAxis","ruleState","_context","_metric","metric_","change","lines","apiRule","rule","_width","_height","_title","_colors","_extent","_buffer","_mode","_format","d3","colors_","extent_","canvas","span","max_","y1","ready","ctx","getContext","save","canvas0","clearRect","drawImage","negative","fillStyle","y0","undefined","fillRect","translate","restore","apiMisc","mode","height","title","colors","apiHorizon","horizon","buffer","scaleLinear","apiGangliaWeb","gangliaWeb","config","uriPathPrefix","clusterName","metricInfo","metricName","hostName","onChangeCallback","isReport","defaultTitleGenerator","titleGenerator","metricKeyName","metricFn","constructGangliaWebRequestQueryParams","result","catch","gangliaWebMetric","downUpSampling","isdate","iedate","librato_mm","av","int_mes","measure_time","reduce","findIdealLibratoRFesolution","avail_rsts","highest_res","lowest_res","iof","top_res","low_res","findLibratoResolution","sdate","edate","i_size","two_days","ideal_res","make_url","composite","url_prefix","user","fire","callback_done","a_values","full_url","makeUrl","auth_string","btoa","header","cubism","version","measurements","series","still_more_values","query","next_time","a_adjusted","DateFormatter","apiLibrato","librato","m_composite","parseGraphite","meta","lastIndexOf","apiGraphite","graphite","find","pattern","metrics","sum","summarize","_sum","_remove","primary","secondary","_primary","_secondary","formatPrimary","_formatPrimary","formatChange","_formatChange","_colorscolors","strokeWidth","_strokeWidth","s4","random","uuid","roundEven","roundOdd","primary_","secondary_","div","spanPrimary","spanChange","canvasContext","primaryExtent","secondaryExtent","valuePrimary","valueSecondary","valueChange","firstChange","initState","apiComparison","comparison","scaleTime","metaKey","keyCode","preventDefault","cubismContext","options","defaultValues","location","search","decodeURIComponent","option","defaultValue"],"mappings":"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"}