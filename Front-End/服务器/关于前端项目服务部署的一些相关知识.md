### 前情提要
1. Vue 项目 整体打包的概念
2. 访问一个链接，如：[https://pcserver.compass.cn/favicon.ico](https://pcserver.compass.cn/favicon.ico) 的概念
3. nginx的概念
4. 端口的概念
5. 目前我们的测试服务器的部署做法。（还可以有别的做法。类似线上服务器的）
6. 线上服务器的部署做法
7. 怎么在一台服务器上创建多个项目的测试环境

### 1  Vue 项目 整体打包的概念

首先明确一个概念，就是浏览器在展示网页的时候最根本的就是解析三种类型的代码：html 标签，css样式，js代码。
所以无论市面上出现多少种框架，Vue，React， Angular，Koa，egg，php，还有一些ssr（服务器渲染）的Next，Nuxt，最终呈现给浏览器的就是三样，html，css，js。
也就是说不管是在.vue文件里还是在.tsx里写，最终打包就只会生成三种文件，.html .css .js。

说一下Vue项目打包的整个流程：

1. 当我们执行 npm run build 打包命令，程序会从index.html入口开始，识别到文件引用到了main.ts，这个就是我们常说的Vue的入口文件，但其实真正的入口文件是项目目录下的index.html。
2. 在index.html文件中，可以看到创建了一个id="app"的div（这个很重要），并且引用了个script标签，链接到了main.ts文件中。
3. 在main.ts中，import了很多组件和三方库，在这里引用都是全局的，引用到的所有代码最终会打包到一个js文件中，一般在做Vue首屏加载速度优化的时候主要就是优化这个文件的引用资源大小问题。
```js
const app = createApp(App);
...
app.use(router);
...
app.mount('#app');
```

在这个文件中最重要的就是这几行了，首先创建了一个app，Vue概念里的单页面应用，然后把这个app挂在到了一个id="app"的div上，就是index.html文件里的那个div。这样一整套项目代码就会入口就完善了。

![[Pasted image 20240731140822.png]]
通过这个入口 Vite会检索整个项目所有用到的文件和代码，按照Vue的语法规则编译成一个个css和js文件，并且通过我们配置的router，将这一个个js和css关联起来。



